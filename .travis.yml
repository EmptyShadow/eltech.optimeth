language: go

go: 1.15

services: docker

jobs:
  include:
    - stage: lint
      name: "Linter"
      install:
        - docker pull golangci/golangci-lint:v1.31.0
      script:
        - docker run --rm -v $(pwd):/app -w /app golangci/golangci-lint:v1.31.0 golangci-lint run
    - stage: test
      name: "Unit Tests"
      script:
        - go test ./...